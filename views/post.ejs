<%- include('partials/navbar') %>

<main class="content" style="max-width: 1200px; margin: 20px auto; display: flex; gap: 20px;">

  <!-- LEFT COLUMN: Post -->
  <div class="main-column" style="flex: 0 0 70%; display: flex; flex-direction: column; gap: 20px; font-family: 'Anton', sans-serif; color: #FFD700;">

    <!-- Post Image -->
    <% if (post.imageURL) { %>
      <div>
        <img src="<%= post.imageURL %>" alt="<%= post.title %>" style="width: 100%; height: auto; border-radius: 8px;">
      </div>
    <% } %>

    <!-- Post Title -->
    <h2 style="font-family: 'Anton', sans-serif; color: #FFD700; margin-top: 10px;"><%= post.title %></h2>

    <!-- Post Content -->
     <% if (post.content){ %>
<p style="font-size:1.1rem; line-height:1.6; color: white;"><%- post.content.replace(/\n/g, '<br>') %></p>
        <% } else { %>
        <p style="font-size:1.1rem; line-height:1.6;">No content available for this post.</p>
        <% } %>


    <!-- Buttons -->
    <div style="display: flex; gap: 10px;">
      <!-- Edit Button -->
      <form action="/posts/<%= post.id %>/edit" method="GET">
        <button type="submit" style="padding: 8px 12px; font-family: 'Anton', sans-serif; background-color: #A50044; color: #FFD700; border: none; border-radius: 5px; cursor: pointer;">
          Edit
        </button>
      </form>

      <!-- Delete Button -->
      <form action="/posts/<%= post.id %>?_method=DELETE" method="POST">
        <button type="submit" onclick="return confirm('Are you sure you want to delete this post?');" style="padding: 8px 12px; font-family: 'Anton', sans-serif; background-color: #A50044; color: #FFD700; border: none; border-radius: 5px; cursor: pointer;">
          Delete
        </button>
      </form>
    </div>

  </div>

  <!-- RIGHT COLUMN: Top Stories -->
  <aside class="top-stories" style="flex: 0 0 30%;">
    <%- include('partials/top-stories', { posts: posts }) %>
  </aside>

</main>

<%- include('partials/footer') %>
